<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FDJ Live Rates</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body { background: linear-gradient(135deg,#020617,#020617,#020617,#020617); height:100vh; display:flex; justify-content:center; align-items:center; color:white; margin:0; }
.card { background: rgba(30,41,59,0.9); width:360px; padding:28px; border-radius:22px; box-shadow:0 25px 60px rgba(0,0,0,0.7); backdrop-filter: blur(10px); }
h2 { text-align:center; color:#facc15; margin-bottom:25px; font-weight:600; }
.section { background: rgba(255,255,255,0.04); padding:15px; border-radius:14px; margin-bottom:15px; }
.label { font-size:13px; color:#94a3b8; margin-bottom:8px; }
.row { display:flex; justify-content:space-between; margin:6px 0; font-size:17px; }
.price { color:#facc15; font-weight:600; }
.footer { text-align:center; font-size:12px; margin-top:15px; color:#94a3b8; }
</style>
</head>
<body>

<div class="card">
  <h2>FDJ Live Rates</h2>

  <div class="section" id="goldSection">
    <div class="label">Gold 24K (1 g)</div>
    <div class="row"><span>Buy</span><span class="price" id="goldBuy">--</span></div>
    <div class="row"><span>Sell</span><span class="price" id="goldSell">--</span></div>
  </div>

  <div class="section" id="silverSection">
    <div class="label">Silver (1 g)</div>
    <div class="row"><span>Buy</span><span class="price" id="silverBuy">--</span></div>
    <div class="row"><span>Sell</span><span class="price" id="silverSell">--</span></div>
  </div>

  <div class="footer">
    Last Updated<br><b id="lastUpdated">--</b>
    <div class="refresh">Auto Refresh: 10 min 30 sec</div>
  </div>
</div>

<script>
const GOLD_API = "https://api.auragold.in/api/data/v1/prices?product=24KGOLD";
const SILVER_API = "https://api.auragold.in/api/data/v1/prices?product=24KSILVER";

async function fetchData(url) {
  const ts = new Date().getTime();
  const res = await fetch(`${url}&t=${ts}`, {cache: "no-cache"});
  const json = await res.json();
  return json.data;
}

async function updateRates() {
  try {
    const gold = await fetchData(GOLD_API);
    const silver = await fetchData(SILVER_API);

    document.getElementById("goldBuy").textContent = `₹ ${parseFloat(gold.aura_buy_price).toLocaleString('en-IN',{minimumFractionDigits:2})}`;
    document.getElementById("goldSell").textContent = `₹ ${parseFloat(gold.aura_sell_price).toLocaleString('en-IN',{minimumFractionDigits:2})}`;

    document.getElementById("silverBuy").textContent = `₹ ${parseFloat(silver.aura_buy_price).toLocaleString('en-IN',{minimumFractionDigits:2})}`;
    document.getElementById("silverSell").textContent = `₹ ${parseFloat(silver.aura_sell_price).toLocaleString('en-IN',{minimumFractionDigits:2})}`;

    const updatedTime = new Date(gold.created_at).toLocaleString('en-GB', {day:'2-digit', month:'2-digit', year:'numeric', hour:'2-digit', minute:'2-digit'});
    document.getElementById("lastUpdated").textContent = updatedTime;

  } catch (e) {
    console.error("API Error:", e);
  }
}

// Initial load
updateRates();

// Refresh every 10 min 30 sec
setInterval(updateRates, 630000);
</script>

</body>
</html>
